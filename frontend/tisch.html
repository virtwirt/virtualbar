<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="semantic.min.js"></script>
    <link rel="stylesheet" href="semantic.min.css">
    <script src="lib/tisch.js"></script>
    <title>VirtWirt</title>
    <style>
		.hidden{
			display: none!important;
		}

		.scrolli{
		    max-height: 75%;
            min-height: 75%;
            overflow-y: auto;
		}
		.unterscrolli{
		    max-height: 50%;
            min-height: 50%;
            overflow-y: auto;
        }
        body{
            overflow-y: hidden;
            background-image: url(bg.jpg);
            background-size: cover;
            background-color: black;
        }
	  </style>
</head>
<body>

<div id="username-page" class="hidden">
    <div class="username-page-container">
        <h1 class="title">Type your username</h1>
        <form id="usernameForm" name="usernameForm">
            <div class="form-group">
                <input type="text"  placeholder="Username" autocomplete="off" class="form-control" />
                <div id="name"></div>
            </div>
            <div class="form-group">
                <button type="button" class="accent username-submit" id="username-button">Start Chatting</button>
            </div>
        </form>
    </div>
</div>

<h2 class="ui center aligned inverted icon header">
    <i class="beer icon" id="table"></i>
</h2>
<script>displayName()</script>
<div class="ui centered grid" style="height: inherit;">
    <div class="row" id="test">
        <div class="twelve wide column scrolli">
            <div class="ui segment unterscrolli" style="max-height: 400px">
                <div class="ui list" id="messageArea"></div>
            </div>
            <div class="ui attached inverted segment">
                <form id="messageForm" name="messageForm">
                    <div class="form-group">
                        <div class="input-group clearfix">
                            <div class="ui fluid action input">
                                <input type="text" id="message" placeholder="Nachricht hier schreiben..." autocomplete="off" class="form-control"/>
                                <div type="button" id="send-button"class="ui button primary">Chatten</div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="three wide column">
            <div class="ui segment" style="min-width:330px">
                <div class="ui header">
                    <i class="music icon"></i>
                    <div class="content">
                        Ambiente
                    </div>
                </div>
                <audio controls autoplay loop controlsList="nodownload">
                    <source src="livestreamloop.mp3" type="audio/mp3">
                </audio>
            </div>
                <div class="ui segment" style="min-width:330px">
                    <div class="ui header">
                        <i class="game icon"></i>
                        <div class="content">
                            Spiele
                        </div>
                    </div>
                    <div class="ui relaxed list">
                        <div class="item">
                            <i class="chess icon"></i>
                            <div class="content">
                                <a class="header">Spiel 1</a>
                                <div class="description">Spaß.</div>
                            </div>
                        </div>
                        <div class="item">
                            <i class="quidditch icon"></i>
                            <div class="content">
                                <a class="header">Spiel 5</a>
                                <div class="description">Noch mehr Spaß.</div>
                            </div>
                        </div>
                        <div class="item">
                            <i class="trophy icon"></i>
                            <div class="content">
                                <a class="header">Spiel 2</a>
                                <div class="description">Viiiiiel mehr Spaß.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="chat-page" class="hidden">
    <div class="chat-container">
        <div class="connecting">
            Verbindung wird hergestellt...
        </div>


    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="lib/chat/main.js"></script>
<script>
$( document ).ready(function() {
document.querySelector('#name').value = Math.random().toString(36).substr(2, 5);
setTimeout(() =>
{
$('#username-button').click();
}, 1000);

});

const node = document.getElementById("message");
node.addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
        event.preventDefault();
        $('#send-button').click();
    }
});
</script>
</body>
</html>
